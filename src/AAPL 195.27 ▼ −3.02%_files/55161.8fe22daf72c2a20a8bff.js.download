(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[55161],{889144:(e,t,n)=>{"use strict";n.d(t,{getFirstFocusableDescendant:()=>s,getFocusableTreeWalker:()=>r,getLastFocusableDescendant:()=>a});var o=n(355734),i=n(873509);const r=(e=document.documentElement)=>(0,i.getSelectorTreeWalker)(e,o.FOCUSABLE_SELECTOR);function s(e){const t=r(e);return(0,i.getFirstDescendant)(t)}function a(e){const t=r(e);return(0,i.getLastDescendant)(t)}},355734:(e,t,n)=>{"use strict";n.d(t,{FOCUSABLE_SELECTOR:()=>i,createScopedVisibleElementFilter:()=>u,getActiveElementSelectors:()=>d,isHTMLOrSVGElement:()=>l,isInertRoot:()=>a,isVisibilityVisible:()=>r});const o=["button","fieldset","optgroup","option","select","textarea","input"],i=["button","input","select","textarea","a[href]","audio[controls]","video[controls]",'[tabindex="0"]','[contenteditable="true"]'].map((e=>o.includes(e)?`${e}:not(:disabled)`:e)).map((e=>`${e}:not([tabindex="-1"])`)).join(",");function r(e){return"visible"===getComputedStyle(e).visibility}function s(e,t){if(e.matches("[inert],[inert] *"))return!0;let n=e;for(;n!==t&&null!==n;){if(c(n))return!0;n=n.parentElement}return!1}function a(e){return e.matches("[inert]")||c(e)}function c(e){return"none"===getComputedStyle(e).display}function d(){return i}function u(e){return t=>r(t)&&!s(t,e)}function l(e){return e instanceof HTMLElement||e instanceof SVGElement}},184277:(e,t,n)=>{"use strict";function o(e){return 0===e.detail}n.d(t,{isKeyboardClick:()=>o})},873509:(e,t,n)=>{"use strict";n.d(t,{getFirstDescendant:()=>r,getLastDescendant:()=>s,getPreviousNonParent:()=>a,getSelectorTreeWalker:()=>i});var o=n(355734);const i=(e=document.documentElement,t)=>document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,(e=>t=>{if(1!==t.nodeType)return NodeFilter.FILTER_SKIP;const n=t;return(0,o.isInertRoot)(n)?NodeFilter.FILTER_REJECT:(0,o.isVisibilityVisible)(n)&&n.matches(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})(t));function r(e){return e.currentNode=e.root,e.nextNode()}function s(e){for(e.currentNode=e.root;null!==e.lastChild(););return e.currentNode===e.root?null:e.currentNode}function a(e){const t=e.currentNode;let n=e.previousNode();for(;n&&n.contains(t);)n=e.previousNode();return n}},384295:(e,t,n)=>{"use strict";n.d(t,{CmEvent:()=>o,trackCmEvent:()=>s});var o,i=n(719718);!function(e){e.PageView="visit",e.RegistrationCompleted="signup",e.TrialSignUp="trial",e.PaidPlanAcquired="psub"}(o||(o={}));const r=(e,t)=>`https://ad.doubleclick.net/ddm/activity/src=13919399;type=${e===o.PaidPlanAcquired?"wsales":"wcount"};cat=${e};${t?`cost=${t};`:""}u27=${function(e="_sp_"){const t=new RegExp(e+"id\\.[a-f0-9]+=([^;]+);?"),n=document.cookie.match(t);return n&&n[1]?n[1].split(".")[0]:""}()};u28=${window.user.id};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=${1e3*Math.random()}?`;function s(e,t){(0,i.createImage)(r(e,t))}},641261:(e,t,n)=>{"use strict";n.d(t,{GTagEvent:()=>w,trackGTagAdsEvent:()=>h});var o=n(251954),i=n(261030),r=n(314802),s=n(638456),a=n(588948),c=n(691805),d=n(719718)
;const u=()=>`https://www.googletagmanager.com/gtag/js?id=${(0,a.getInitData)().gadwId}`;let l=!1;var w;function h(e,t={}){if(l||!(0,d.adwordsAnalyticsEnabled)()||(0,r.isOnMobileAppPage)("any")||s.CheckMobile.iOS()||(0,s.isSymphonyEmbed)()||((0,a.updateInitData)(),(0,a.getInitData)().gadwId&&(l=!0,(0,c.appendScript)(u()),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("consent","default",{ad_storage:(0,i.getCookieSetting)(i.CookieSettings.Advertising)?"granted":"denied"}),window.gtag("config",(0,a.getInitData)().gadwId),o.subscribe(i.cookieSettingsChangeEvent,((e,t)=>{e===i.CookieSettings.Advertising&&window.gtag("consent","update",{ad_storage:t?"granted":"denied"})}),null))),!l)return;const n=(0,a.getInitData)().gadwId;window.gtag("event","conversion",{send_to:`${n}/${e}`,user_id:window.user.id,...t})}!function(e){e.PageView="kwnRCP6AwqsBEOTvvuED",e.TrialSignUp="6_gCCOyejsACEK3sq6gB",e.RegistrationCompleted="JzYhCIOr578CEK3sq6gB",e.PaidPlanAcquired="ca8iCNrG578CEK3sq6gB"}(w||(w={}))},62374:(e,t,n)=>{"use strict";n.d(t,{evercookie:()=>i});n(106395);var o=n(66974);const i=new window.evercookie({domain:(0,o.isProd)()?".tradingview.com":location.hostname,lso:!1})},345848:(e,t,n)=>{"use strict";n.d(t,{disableTrackingEvents:()=>a,trackEvent:()=>s});n(251954);var o=n(213377);const i=(0,n(735566).getLogger)("Common.TrackEvent");let r=!1;const s=(e,t,n)=>{if(r)return;let s=(e?e+":":"")+t;n&&(s+=" "+n),i.logNormal(s),o.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:n})};function a(){r=!0}"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.trackEvent=s)},226722:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TVXWindowEvents:()=>s,getScopedTVXWindowEvents:()=>a});n(142492);var o=n(735566),i=n(49437);const r=(0,o.getLogger)("XWindowEvents");var s;function a(e){return{on:(t,n)=>s.on(`${e}.${t}`,n),off:(t,n)=>s.off(`${e}.${t}`,n),emit:(t,n)=>s.emit(`${e}.${t}`,n)}}!function(e){const t="tvxwevents.",n={};let o;window.BroadcastChannel?(o=new BroadcastChannel("tvxwevents"),o.addEventListener("message",(function(e){const{data:{event:t,value:o}}=e;n[t]&&n[t].forEach((e=>{e(o)}))})),function(){const e=[],n=performance.now();for(let n=0;n<i.TVLocalStorage.length;n++){const o=i.TVLocalStorage.key(n);o.startsWith(t)&&e.push(o)}const o=i.TVLocalStorage.length;for(const t of e)i.TVLocalStorage.removeItem(t);const s=performance.now()-n;r.logNormal(`Total keys amount in local storage on operation start: ${o}`),r.logNormal(`Keys amount in local storage to be deleted: ${e.length}`),r.logNormal(`Keys to be deleted from local storage: ${JSON.stringify(e)}`),r.logNormal(`Removing keys from local storage took ${s} ms`)}()):window.addEventListener("storage",(function(e){const{newValue:o,key:r}=e;if(null===o||!r||!r.startsWith(t))return;const s=r.substring(11);n[s]&&n[s].forEach((t=>{t(e.newValue)}));i.TVLocalStorage.removeItem(r)})),e.on=function(e,t){n[e]||(n[e]=[]),n[e].push(t)},
e.off=function(e,t){if(!n[e])return;const o=n[e].indexOf(t);-1!==o&&(1===n[e].length?delete n[e]:n[e].splice(o,1))},e.emit=function(e,n=Date.now()){try{o?o.postMessage({event:e,value:n}):i.TVLocalStorage.setItem(t+e,n.toString())}catch(e){r.logError(e.message)}}}(s||(s={}))},375185:(e,t,n)=>{"use strict";n.d(t,{MouseClickAutoBlurHandler:()=>s,initMouseClickAutoBlurHandler:()=>a});var o=n(481251),i=n(184277);const r="data-mouse-click-auto-blur";class s{constructor(){this._handler=e=>{document.activeElement instanceof HTMLElement&&((0,i.isKeyboardClick)(e)||e.target instanceof Element&&"INPUT"!==document.activeElement.tagName&&null!==document.activeElement.closest(`[${r}]`)&&document.activeElement.blur())},window.addEventListener("click",this._handler,!0)}static attributes(e=!0){return e?{[r]:!0}:{}}}const a=(0,o.default)((()=>new s))},55161:(e,t,n)=>{"use strict";n.r(t);var o=n(226722),i=n(345848),r=n(803912);async function s(e){if(!(e.target&&e.target instanceof Element))return;const t=e.target.closest(".js-follow-user");if(!t)return;const{followUserHandler:o}=await Promise.all([n.e(3445),n.e(87104),n.e(45607)]).then(n.bind(n,15383));await o(t)}var a=n(623213),c=n(66974),d=n(49437),u=n(735566);const l=(0,u.getLogger)("Common.Evercookie");var w=n(62374);const h=(0,u.getLogger)("Common.Evercookie");window.TradingView=window.TradingView||{};const f=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;class g{constructor(){this._cookieName="tv_ecuid",this._env=null,this.check=()=>{if(this._isEcNotAvailable()||d.TVLocalStorage.getItem("_tv_ec_ignore_username")===window.user.username)return;const e=window.user.id;this._getEcUids().catch((e=>{h.logWarn(`Error thrown inside getEcUids(). Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)})).then((t=>{if(void 0===t)return void h.logWarn(`getEcUids() returned no data. Leave evercookie data untouched. User: ${window.user.username} (${window.user.id})`);let o=t.localEcUid;const i=t.remoteEcUids;o&&f.test(o)||(o=(0,a.guid)(),w.evercookie.set(this._cookieName,o));const s=t=>{t.subscription_canceled&&Promise.all([n.e(81191),n.e(92537),n.e(18883),n.e(67131),n.e(34330),n.e(71448),n.e(30047),n.e(32227),n.e(18932)]).then(n.bind(n,3319)).then((e=>e.createTrialCanceledDialog())),e===window.user.id&&t.is_suspicious?d.TVLocalStorage.setItem("is_suspicious","1"):d.TVLocalStorage.removeItem("is_suspicious")};i&&0!==i.length&&-1!==i.indexOf(o)||e!==window.user.id||function(e){const t=new FormData;return t.append("ecuid",e),(0,r.fetch)("/accounts/set-ecuid/",{body:t,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{l.logWarn(`Error in reponse.json() of /accounts/set-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to set remote ecuids. Response was not OK")}))}(o).then(s)})).catch((e=>{h.logError(e.message+` User: ${window.user.username} (${window.user.id})`)}))},this._isEcNotAvailable()||(this._env=(0,c.environment)(),(0,
c.isDebug)()&&(this._cookieName+="_"+this._env))}_isEcNotAvailable(){return window.TradingView.onWidget?.()||!window.user}_getLocalEcUid(){return new Promise((e=>{w.evercookie.get(this._cookieName,(t=>{e(t)}))}))}_getEcUids(){return new Promise(((e,t)=>{let n;this._getLocalEcUid().then((e=>(n=e,function(e){return new Promise(((t,n)=>{const o=new FormData;e&&o.append("local_ecuid",e),(0,r.fetch)("/accounts/get-ecuid/",{body:o,credentials:"include",method:"POST"}).then((e=>{if(e.ok)return e.json().catch((e=>{l.logWarn(`Error in reponse.json() of /accounts/get-ecuid/. User: ${window.user.username} (${window.user.id})\nActual error: ${e}`)}));throw new Error("Unable to get remote ecuids. Response was not OK")})).then((e=>{t(e)})).catch((e=>{n(e)}))}))}(e)))).then((t=>{if(void 0===t)throw new Error(`getRemoteEcUids() returned no response. User: ${window.user.username} (${window.user.id})`);e({localEcUid:n,remoteEcUids:t.ecuids})})).catch((e=>{t(e)}))}))}}var m=n(758514);document.addEventListener("DOMContentLoaded",(()=>{document.addEventListener("click",(e=>{const t=e.target.closest(".js-profile-message");t instanceof HTMLElement&&(e.preventDefault(),function(e){const t=e.dataset.username;window.runOrSignIn((()=>(0,m.openPMDialog)(t)),{source:"Private message from broker popup",verifiedPhoneRequired:!0})}(t))}))}));var p=n(678708),v=n(638456),_=n(314802),E=n(799786),b=n(825957);var S=n(251954),y=n(309103),T=n(709903);function C(e,t="x"){let n=!1;return"x"!==t&&"both"!==t||(n=n||e.offsetWidth<e.scrollWidth),"y"!==t&&"both"!==t||(n=n||e.offsetHeight<e.scrollHeight),n}function k(e,t="x"){for(const n of Array.from(e.children))if(n instanceof HTMLElement&&(C(n,t)||k(n,t)))return!0;return!1}function L(e){let t="x";return e.matches(".apply-overflow-tooltip--direction_both")?t="both":e.matches(".apply-overflow-tooltip--direction_y")&&(t="y"),t}function O(e){const t=e.getAttribute("data-overflow-tooltip-html");if(t)return{type:"html",data:t};const n=e.getAttribute("data-overflow-tooltip-text");if(n)return{type:"text",data:n};if(e.matches?.(".apply-overflow-tooltip--allow-text")){return{type:"text",data:e.textContent||""}}const o=Array.from(e.childNodes).reduce(((e,t)=>(t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e)),[]).join("").trim();return o?{type:"text",data:o}:{type:"none"}}function N(e,t){let n=!1;const o=e.children;for(let e=0;e<o.length;e++){const i=o[e];if(i instanceof HTMLElement&&C(i,t)){n=!0;break}}return n}function P(e){const t=e.target;if(t instanceof HTMLElement&&(t.matches(".apply-overflow-tooltip-focus")||t.querySelector(".apply-overflow-tooltip-focus"))){const e=t.matches(".apply-overflow-tooltip")?t:t.querySelector(".apply-overflow-tooltip"),n=L(e);if(e.matches(".apply-overflow-tooltip--check-children-recursively")){if(!k(e,n))return}else if(e.matches(".apply-overflow-tooltip--check-children")){if(!N(e,n))return}else if(!C(e,n))return;(0,y.showOnElement)(t,{content:O(e)});const o=()=>{(0,y.hide)(),t.removeEventListener("blur",o),t.removeEventListener("active-descendant-blur",o)}
;t.addEventListener("blur",o),t.addEventListener("active-descendant-blur",o)}}(0,T.whenDocumentReady)((()=>{document.addEventListener("mouseenter",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.matches(".apply-overflow-tooltip")){const e=L(t);if(t.matches(".apply-overflow-tooltip--check-children-recursively")){if(!k(t,e))return}else if(t.matches(".apply-overflow-tooltip--check-children")){if(!N(t,e))return}else if(!C(t,e))return;(0,y.showOnElement)(t,{content:O(t)});const n=()=>{(0,y.hide)(),["mouseleave","mousedown"].forEach((e=>t.removeEventListener(e,n)))};["mouseleave","mousedown"].forEach((e=>t.addEventListener(e,n)))}}),!0),document.addEventListener("focus",P,!0),document.addEventListener("active-descendant-focus",P,!0)}));var D=n(547465),A=n(812265),V=n(144731);function I(e){return()=>{e()}}var U=n(591800),M=n(593110),$=n(889144);const F=`[${M.FOCUS_TRAP_DATA_ATTRIBUTE}="true"]`;class x{constructor(){this._handleMouseDown=()=>{this._forwardTab=void 0},this._handleKeyDown=e=>{this._forwardTab=void 0,[9,U.Modifiers.Shift+9].includes((0,U.hashFromEvent)(e))&&(this._forwardTab=!e.shiftKey)},this._handleFocus=e=>{const t=e.target;if(void 0===this._forwardTab||!(t instanceof HTMLElement))return;const n=this._findDeepestFocusTrapElement(document.documentElement);if(!(n instanceof HTMLElement)||!n||n.contains(t))return;e.preventDefault(),e.stopPropagation(),t.blur();const o=n.compareDocumentPosition(t);if(o&Node.DOCUMENT_POSITION_PRECEDING||o&Node.DOCUMENT_POSITION_FOLLOWING){const e=this._forwardTab?j(n):j(n,!0);e instanceof HTMLElement&&e.focus()}},document.documentElement.addEventListener("focus",this._handleFocus,{capture:!0}),document.documentElement.addEventListener("keydown",this._handleKeyDown,{capture:!0}),document.documentElement.addEventListener("mousedown",this._handleMouseDown,{capture:!0})}destroy(){document.documentElement.removeEventListener("focus",this._handleFocus,{capture:!0}),document.documentElement.removeEventListener("keydown",this._handleKeyDown,{capture:!0}),document.documentElement.removeEventListener("mousedown",this._handleMouseDown,{capture:!0})}_findDeepestFocusTrapElement(e){const t=e.querySelectorAll(F);let n=null,o=-1;return t.forEach((t=>{const i=this._calculateParentCount(t,e);i>o&&(o=i,n=t)})),n}_calculateParentCount(e,t){let n=0,o=e.parentElement;for(;o&&o!==t;)"true"===o.getAttribute(M.FOCUS_TRAP_DATA_ATTRIBUTE)&&n++,o=o.parentElement;return n}}const R=I((()=>new x));function j(e,t){return t?(0,$.getLastFocusableDescendant)(e):(0,$.getFirstFocusableDescendant)(e)}const W=I((()=>{R()}));var B=n(375185),H=n(859758);var G=n(120296),K=n(641261),q=n(665343),X=n(384295),J=n(383913),z=n(327920);let Y,Q;function Z(){if(window.initData.lfs){const e=document.getElementsByClassName("js-admin-warning")[0];document.body.removeChild(e)}let e=!0;[/^\/chart\//,/^\/share-your-love\//,/^\/pine\//].forEach((t=>{t.test(window.location.pathname)&&(e=!1)})),e&&window.location.reload()}function ee(e){window.user=(0,V.deepExtend)({},e),window.TradingView.changeLoginState(!0)}function te(e){{
const e=document.documentElement;e.classList.toggle("is-authenticated",window.is_authenticated),e.classList.toggle("is-not-authenticated",!window.is_authenticated)}window.TVSettings&&window.TVSettings.sync(window.user.settings),window.is_authenticated?(e&&!1!==window.user.profile_data_filled||void 0===Q||Q.check(),e||(Promise.all([n.e(24032),n.e(97130),n.e(32227),n.e(19158)]).then(n.bind(n,444139)).then((e=>e.offerButtonLoginStateChangeInit())),(0,v.onGoPro)()&&window.location.reload()),!1===window.user.profile_data_filled&&((0,v.checkPageType)("mobile")||(0,_.isOnMobileAppPage)("any")||window.location.pathname.startsWith("/privacy-policy")||window.location.pathname.startsWith("/policies")||(0,T.whenDocumentReady)((()=>{(0,p.showSignModal)({mode:"create-account",onUnmountEvent:()=>{window.user.social_registration?(n.e(22947).then(n.bind(n,113452)).then((({registrationEvent:e})=>{e("Social")})),(0,K.trackGTagAdsEvent)(K.GTagEvent.RegistrationCompleted),(0,q.trackTwitterEvent)(q.TwitterEvent.RegistrationCompleted),(0,X.trackCmEvent)(X.CmEvent.RegistrationCompleted),delete window.user.social_registration):o.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user}))}})}),!0),(0,i.trackEvent)("Conversion","First login"),delete window.user.profile_data_filled),J.availableOffers.runOrUpdate((()=>{window.TradingView.setTrialAvailiable((0,z.isTrialAvailableForUser)(window.user,window.is_authenticated))}))):J.availableOffers.runOrUpdate((e=>{Object.keys(e).forEach((t=>{const n=t;e[n].available_for_anons||delete e[n]})),window.user={username:"Guest",following:"0",followers:"0",ignore_list:[],available_offers:e},d.TVLocalStorage.removeItem("trial_availiable")}))}Y=window.loginStateChange?window.loginStateChange:window.loginStateChange=new D.Delegate,Y.subscribe(null,te),(0,E.createGroup)({desc:"Support"}).add({desc:"Open",hotkey:E.Modifiers.Mod+191,handler:()=>(0,b.showSupportDialog)({initialState:"shortcuts"})}),o.TVXWindowEvents.on("loginStateChange",(e=>{const t=JSON.parse(e);window.user=t.user,window.is_authenticated=!!t.is_authenticated,Y.fire()})),o.TVXWindowEvents.on("signOut",(()=>{Z()})),(()=>{const e="user-obj-changed",t={};window.crossTabSyncUserAttr=t=>{const n={};t instanceof Array?t.forEach((e=>{n[e]=window.user[e]})):n[t]=window.user[t],o.TVXWindowEvents.emit(e,JSON.stringify(n))},o.TVXWindowEvents.on(e,(e=>{const n=JSON.parse(e);let o;for(o in n)if(n.hasOwnProperty(o)){window.user[o]=n[o];(t[o]||[]).forEach((e=>{e.fire(n[o])}))}}))})(),window.TradingView.changeLoginState=e=>{window.is_authenticated=!!e,o.TVXWindowEvents.emit("loginStateChange",JSON.stringify({is_authenticated:window.is_authenticated,user:window.user})),window.is_authenticated&&S.emit(A.GLOBAL_EVENT_SIGN_IN_SUCCESS),Y.fire()},window.loginUser=ee,window.addEventListener("storage",(e=>{"login_user"===e.key&&null!==e.newValue&&ee(JSON.parse(e.newValue))})),window.TradingView.signOut=()=>{const e={...window.user};(0,r.fetch)("/accounts/logout/",{method:"POST",headers:{accept:"html"},
credentials:"same-origin"}).then((()=>{window.TradingView.changeLoginState(!1),o.TVXWindowEvents.emit("signOut"),Z()})).catch((()=>{window.user=e,window.TradingView.changeLoginState(!0)}))},Q=new g,window.loginRequiredDelegate=new D.Delegate,window.runOrSignIn=(e,t)=>{t||(t={});const n=[];if(t.paidAccountCheck&&n.push((()=>(0,G.paidAccountCheck)({successButtonText:t.paidAccountSuccessButtonText}))),t.verifiedPhoneRequired){const e=()=>Promise.resolve((0,H.whenVerified)({showDialog:!0,source:t.source,doNotCheckSuspicious:t.doNotCheckSuspicious,doNotCheckSocialActivity:t.doNotCheckSocialActivity,customPhoneCheck:t.customPhoneCheck,doNotShowConfirmation:t.doNotShowConfirmation,isSuspiciousCountry:t.isSuspiciousCountry,afterAllCb:t.afterAllCb}));n.push(e)}window.is_authenticated?n.reduce(((e,t)=>e.then(t)),Promise.resolve()).then(e).catch((()=>{})):(0,p.showSignModal)({source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,signinSuccess:e,startTrial:t.startTrial,onUnmountEvent:t.onUnmountEvent})},window.is_authenticated&&o.TVXWindowEvents.on("user-status-declared",(e=>{window.user.declared_status=e})),window.onLoginStateChange=te,window.TradingView.setTrialAvailiable=e=>{d.TVLocalStorage.setItem("trial_availiable",e?"1":"0")},window.TradingView.notificationsChanged=new D.Delegate,document.body.addEventListener("click",s),W(),(0,B.initMouseClickAutoBlurHandler)()},383913:(e,t,n)=>{"use strict";n.r(t),n.d(t,{availableOffers:()=>i});var o=n(803912);const i=new class{constructor(){this._isInvalid=!0,this._offers={}}runOrUpdate(e){this._isInvalid?this._updateOffers().then(e):e(this._offers)}getData(){return this._offers}invalidate(e){this._isInvalid=!0,this.runOrUpdate(e??(()=>{}))}setInitial(e){this._isInvalid=!1,this._offers=e}async _updateOffers(){return window.user.available_offers||(window.user.available_offers={}),this._updateOffersPromise||(this._updateOffersPromise=(0,o.fetch)("/api/v1/offers/",{method:"GET",credentials:"include"}).then((async e=>{const t=await e.json();return delete this._updateOffersPromise,this._isInvalid=!1,this._offers=Object.entries(t).reduce(((e,[t,n])=>(n&&(e[t]=n),e)),{}),window.user.available_offers=this._offers,t})).catch((()=>({})))),this._updateOffersPromise}}},152745:(e,t,n)=>{"use strict";n.d(t,{LastChanceType:()=>r,OFFERS:()=>o,OfferKind:()=>i});const o={trial:"trial",early_access:"early_access",black_friday:"black_friday",cyber_monday:"cyber_monday",custom_discount:"custom_discount",longer_cycle:"longer_cycle",upgrade:"upgrade",extend:"extend",last_chance:"last_chance",one_usd:"one_usd",three_months:"three_months",unsubscribe:"unsubscribe",six_months:"six_months",coupon:"coupon"},i={early_access:"early_access",black_friday:"black_friday",last_chance:"last_chance",one_usd:"1 usd offer",three_months:"3 months offer",six_months:"six_months",unsubscribe:"unsubscribe",custom_discount:"custom_discount"};var r;!function(e){e.TwoWeeks="LastChance_2w",e.TwoDays="LastChance_2d",e.Hours="LastChance_24h"}(r||(r={}))},678708:(e,t,n)=>{"use strict";n.r(t),n.d(t,{
isShowPromoVideo:()=>l,isSignModalOpen:()=>u,showSignModal:()=>d});var o=n(586240),i=n(901896),r=n(490778);const s=o["media-mf-tablet-landscape"],a=o["media-mf-tablet-vertical"];let c=()=>!1;async function d(e){const t=Object.assign({},e,{isShowVideo:l()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=window.matchMedia(o["media-mf-tablet-landscape"]).matches?r:i,t=document.createElement("link");t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t)}();const e=await Promise.all([n.e(63570),n.e(92537),n.e(98185),n.e(18883),n.e(85902),n.e(7291),n.e(15371),n.e(32937),n.e(22956),n.e(46195),n.e(65743),n.e(61171),n.e(67780),n.e(95679),n.e(87833),n.e(76052),n.e(43329),n.e(38452),n.e(27702),n.e(38490),n.e(59546),n.e(63585),n.e(26070),n.e(87104),n.e(32661),n.e(55072),n.e(14265),n.e(48809),n.e(64144),n.e(73940),n.e(75613),n.e(67496),n.e(13777),n.e(32227),n.e(80085),n.e(86495),n.e(37783),n.e(31805),n.e(36123)]).then(n.bind(n,12200));return c=e.isSignModalOpen,e.showSignModal(t)}}function u(){return c()}function l(){const e=window.matchMedia(s).matches,t=window.matchMedia(a).matches,n=window.innerWidth,o=window.innerHeight;return!!e||!!t&&!(!e&&o<n)}},812265:(e,t,n)=>{"use strict";n.d(t,{GLOBAL_EVENT_SIGN_IN_SUCCESS:()=>o,showEmailKey:()=>s,signupSource:()=>i,signupSourceMeta:()=>r});const o="GLOBAL_EVENT_SIGN_IN_SUCCESS";const i="signupSource",r="signupSourceMeta",s="auto-show-email-for-signin"},825957:(e,t,n)=>{"use strict";n.d(t,{showSupportDialog:()=>i});n(659863);var o=n(383913);function i(e){return Promise.all([n.e(64230),n.e(92537),n.e(98185),n.e(98933),n.e(84712),n.e(85902),n.e(7291),n.e(15371),n.e(61681),n.e(63039),n.e(90579),n.e(6612),n.e(11069),n.e(50874),n.e(65743),n.e(61171),n.e(67780),n.e(65161),n.e(87833),n.e(67691),n.e(43329),n.e(38452),n.e(98158),n.e(40887),n.e(84587),n.e(98681),n.e(92990),n.e(19715),n.e(82870),n.e(27702),n.e(38490),n.e(87265),n.e(59546),n.e(41392),n.e(63585),n.e(16990),n.e(66534),n.e(71761),n.e(11194),n.e(26070),n.e(34709),n.e(52165),n.e(91961),n.e(95542),n.e(64175),n.e(75134),n.e(70882),n.e(57171),n.e(32227),n.e(47793),n.e(25977),n.e(60337),n.e(23974),n.e(24951),n.e(82043),n.e(73248),n.e(82687),n.e(56405),n.e(76001),n.e(62316),n.e(19556),n.e(70901),n.e(23479),n.e(98655),n.e(79790),n.e(57274)]).then(n.bind(n,96182)).then((t=>o.availableOffers.runOrUpdate((()=>new t.SupportDialog(e).open()))))}},918943:(e,t,n)=>{"use strict";async function o(e){return(await Promise.all([n.e(11100),n.e(92537),n.e(85902),n.e(7291),n.e(15371),n.e(90579),n.e(65743),n.e(67780),n.e(87833),n.e(14391),n.e(43329),n.e(38452),n.e(38490),n.e(41392),n.e(66534),n.e(71761),n.e(11194),n.e(34330),n.e(10330),n.e(49932),n.e(32227),n.e(47793),n.e(25977),n.e(24377),n.e(34786),n.e(8721),n.e(30938),n.e(68606)]).then(n.bind(n,980049))).createPhoneDialog(e)}async function i(e){
return(await Promise.all([n.e(11100),n.e(92537),n.e(85902),n.e(7291),n.e(15371),n.e(90579),n.e(65743),n.e(67780),n.e(87833),n.e(14391),n.e(43329),n.e(38452),n.e(38490),n.e(41392),n.e(66534),n.e(71761),n.e(11194),n.e(34330),n.e(10330),n.e(49932),n.e(32227),n.e(47793),n.e(25977),n.e(24377),n.e(34786),n.e(8721),n.e(30938),n.e(68606)]).then(n.bind(n,980049))).createEmailDialog(e)}n.d(t,{createPhoneDialog:()=>o,createSMSEmailDialog:()=>i})},120296:(e,t,n)=>{"use strict";n.d(t,{paidAccountCheck:()=>s});var o=n(49437),i=n(638456);const r=(0,n(735566).getLogger)("PaidAccountCheck");async function s(e){const{onlyCheck:t,successButtonText:s,isNeedCancelButton:a}=e,c=window.user,d=o.TVLocalStorage.getItem("previous_username");if(c&&window.is_authenticated&&!c.is_pro&&d&&!(0,i.isSymphonyEmbed)()){const{getProfile:e}=await Promise.all([n.e(35256),n.e(90254)]).then(n.bind(n,824027));try{const o=await e(d);if(Boolean(o.pro_plan)){if(t)return d;{const{showWrongAccountDialog:e}=await Promise.all([n.e(18607),n.e(85938),n.e(12019)]).then(n.bind(n,723216));return e({userName:d,isNeedCancelButton:a,successButtonText:s})}}}catch(e){r.logError(e.message)}}return!1}},327920:(e,t,n)=>{"use strict";n.d(t,{isTrialAvailableForUser:()=>i});var o=n(152745);function i(e,t){const n=e.available_offers||{};return t&&void 0!==n[o.OFFERS.trial]}},779893:(e,t,n)=>{const o=n(647793);e.exports=o,o(document).ajaxSend(((e,t,n)=>{n.crossDomain&&!n.forceLanguageHeader||(window.locale?t.setRequestHeader("X-Language",window.locale):console.warn("window.locale is not defined"))}))},859758:(e,t,n)=>{"use strict";n.d(t,{getDialogDfd:()=>l,verificationIsRequired:()=>w,whenVerified:()=>h});var o=n(444372),i=n(345848),r=n(918943),s=n(49437),a=n(213377),c=n(779893);let d=c.Deferred();function u(e,t){var n=TVSettings.getBool("_phone_verif_dlg_initial",!0);TVSettings.setValue("_phone_verif_dlg_initial",!1),(0,i.trackEvent)("Phone verification",e+(n?" initial":""),t)}function l(e){const t=c.Deferred();return(0,r.createPhoneDialog)({featureSource:e.source,doNotShowConfirmation:e.doNotShowConfirmation}).then((n=>{n.on("afterOpen",(()=>u("Show dialog",e.source))).on("verification:success",(n=>{t.resolve(n),u("Verified",e.source)})).on("verification:cancel",(()=>{t.reject("cancelled"),u("Cancelled",e.source)})).on("verification:codeExpired",(()=>u("Show dialog",e.source))).open()})),t}function w(e={}){return new Promise((t=>{!window.is_authenticated||user.is_staff||user.is_superuser||user.is_pro||user.is_moderator?t([!1]):e.customPhoneCheck?e.customPhoneCheck()?t([!0,"date-joined"]):t([!1]):a.enabled("phone_verification")&&!user.has_phone?e.isSuspiciousCountry?t([!0]):!0!==e.doNotCheckSocialActivity?t([!0,"date-joined"]):(!0!==e.doNotCheckSuspicious&&t([Boolean(s.TVLocalStorage.getItem("is_suspicious")),"suspicious"]),t([!0,"default"])):t([!1])}))}function h(e={}){const t=c.Deferred();return w({doNotCheckSuspicious:e.doNotCheckSuspicious,doNotCheckSocialActivity:e.doNotCheckSocialActivity,customPhoneCheck:e.customPhoneCheck,isSuspiciousCountry:e.isSuspiciousCountry
}).then((([i,r])=>{if(!i)return d.resolve(),t.resolve();if(i&&e.silentPhoneVerification)return t.reject("phone_verification_required");if(!e.showDialog)return d.done((()=>t.resolve()));const s={source:e.source,doNotShowConfirmation:e.doNotShowConfirmation};"suspicious"!==r&&(s.topMessage=o.t(null,void 0,n(220913))),l(s).done((()=>t.resolve())).always((()=>{t.reject("phone_verification_declined"),e.afterAllCb&&e.afterAllCb()}))})).catch((e=>e)),t.promise()}window.loginStateChange&&loginStateChange.subscribe(null,(()=>{window.is_authenticated&&(d=c.Deferred(),w().then((([e,t])=>{e||d.resolve()})))}))},144731:(e,t,n)=>{"use strict";function o(e,...t){return e&&"object"==typeof e?(0===t.length||t.forEach((t=>{null!=t&&"object"==typeof t&&Object.keys(t).forEach((n=>{const r=e[n],s=t[n];if(s===e)return;const a=Array.isArray(s);if(s&&(i(s)||a)){let t;t=a?r&&Array.isArray(r)?r:[]:r&&i(r)?r:{},e[n]=o(t,s)}else void 0!==s&&(e[n]=s)}))})),e):e}function i(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const n=Object.hasOwnProperty.toString,o=t.hasOwnProperty("constructor")&&t.constructor;return"function"==typeof o&&n.call(o)===n.call(Object)}n.d(t,{deepExtend:()=>o})},490778:(e,t,n)=>{"use strict";e.exports=n.p+"desktop.48bb0acc31aeb2422416.webp"},901896:(e,t,n)=>{"use strict";e.exports=n.p+"tablet.5ed26c209de7e1b5845d.webp"}}]);